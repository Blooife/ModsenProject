{"ast":null,"code":"var _jsxFileName = \"D:\\\\RiderProjects\\\\Modsen\\\\frontapp\\\\src\\\\components\\\\eventDetails.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport PostService from \"../services/post.service\";\nimport AuthService from \"../services/auth.service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EventDetails = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [eventDetails, setEventDetails] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [editMode, setEditMode] = useState(false);\n  const [formData, setFormData] = useState({\n    name: \"\",\n    description: \"\",\n    place: \"\",\n    date: \"\",\n    maxParticipants: 0\n  });\n  const user = AuthService.getCurrentUser();\n  useEffect(() => {\n    const fetchEventDetails = async () => {\n      try {\n        const response = await PostService.getEventById(id);\n        setEventDetails(response.data);\n        setLoading(false);\n      } catch (error) {\n        // Handle error\n        setLoading(false);\n        console.error(\"Error fetching event details:\", error);\n      }\n    };\n    fetchEventDetails();\n  }, [id]);\n  const handleEditClick = () => {\n    setEditMode(true);\n    setFormData({\n      name: eventDetails.name,\n      description: eventDetails.description,\n      place: eventDetails.place,\n      date: eventDetails.date,\n      maxParticipants: eventDetails.maxParticipants\n    });\n  };\n  const handleCancelEdit = () => {\n    setEditMode(false);\n  };\n  const handleFormSubmit = async e => {\n    e.preventDefault();\n    try {\n      // Make API call to update event\n      // await PostService.updateEvent(id, formData);\n      // Optionally, refresh event details after update\n      // const updatedEvent = await PostService.getEventById(id);\n      // setEventDetails(updatedEvent.data);\n      setEditMode(false);\n    } catch (error) {\n      // Handle error\n      console.error(\"Error updating event:\", error);\n    }\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: eventDetails && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card border-primary\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: eventDetails.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-text\",\n          children: eventDetails.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-text\",\n          children: /*#__PURE__*/_jsxDEV(\"small\", {\n            className: \"text-muted\",\n            children: [\"\\u041C\\u0435\\u0441\\u0442\\u043E: \", eventDetails.place]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 38\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-text\",\n          children: /*#__PURE__*/_jsxDEV(\"small\", {\n            className: \"text-muted\",\n            children: [\"\\u0414\\u0430\\u0442\\u0430: \", new Date(eventDetails.date).toLocaleDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 38\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-text\",\n          children: /*#__PURE__*/_jsxDEV(\"small\", {\n            className: \"text-muted\",\n            children: [\"\\u0412\\u0441\\u0435\\u0433\\u043E \\u0443\\u0447\\u0430\\u0441\\u0442\\u043D\\u0438\\u043A\\u043E\\u0432: \", eventDetails.maxParticipants]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 38\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), !editMode ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleEditClick,\n        children: \"Edit Event\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleFormSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            children: \"Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"name\",\n            name: \"name\",\n            value: formData.name,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleCancelEdit,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n_s(EventDetails, \"X2NHAIno2GM6bonCit7ErtdlgTE=\", false, function () {\n  return [useParams];\n});\n_c = EventDetails;\nexport default EventDetails;\nvar _c;\n$RefreshReg$(_c, \"EventDetails\");","map":{"version":3,"names":["React","useState","useEffect","useParams","PostService","AuthService","jsxDEV","_jsxDEV","EventDetails","_s","id","eventDetails","setEventDetails","loading","setLoading","editMode","setEditMode","formData","setFormData","name","description","place","date","maxParticipants","user","getCurrentUser","fetchEventDetails","response","getEventById","data","error","console","handleEditClick","handleCancelEdit","handleFormSubmit","e","preventDefault","handleChange","value","target","children","fileName","_jsxFileName","lineNumber","columnNumber","className","Date","toLocaleDateString","onClick","onSubmit","htmlFor","type","onChange","_c","$RefreshReg$"],"sources":["D:/RiderProjects/Modsen/frontapp/src/components/eventDetails.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport PostService from \"../services/post.service\";\r\nimport AuthService from \"../services/auth.service\";\r\n\r\nconst EventDetails = () => {\r\n  const { id } = useParams();\r\n  const [eventDetails, setEventDetails] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    place: \"\",\r\n    date: \"\",\r\n    maxParticipants: 0,\r\n  });\r\n  const user = AuthService.getCurrentUser();\r\n\r\n  useEffect(() => {\r\n    const fetchEventDetails = async () => {\r\n      try {\r\n        const response = await PostService.getEventById(id);\r\n        setEventDetails(response.data);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        // Handle error\r\n        setLoading(false);\r\n        console.error(\"Error fetching event details:\", error);\r\n      }\r\n    };\r\n\r\n    fetchEventDetails();\r\n  }, [id]);\r\n\r\n  const handleEditClick = () => {\r\n    setEditMode(true);\r\n    setFormData({\r\n      name: eventDetails.name,\r\n      description: eventDetails.description,\r\n      place: eventDetails.place,\r\n      date: eventDetails.date,\r\n      maxParticipants: eventDetails.maxParticipants,\r\n    });\r\n  };\r\n\r\n  const handleCancelEdit = () => {\r\n    setEditMode(false);\r\n  };\r\n\r\n  const handleFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      // Make API call to update event\r\n      // await PostService.updateEvent(id, formData);\r\n      // Optionally, refresh event details after update\r\n      // const updatedEvent = await PostService.getEventById(id);\r\n      // setEventDetails(updatedEvent.data);\r\n      setEditMode(false);\r\n    } catch (error) {\r\n      // Handle error\r\n      console.error(\"Error updating event:\", error);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {eventDetails && (\r\n        <div className=\"card border-primary\">\r\n          <div className=\"card-header\">{eventDetails.name}</div>\r\n          <div className=\"card-body\">\r\n            <p className=\"card-text\">{eventDetails.description}</p>\r\n            <p className=\"card-text\"><small className=\"text-muted\">Место: {eventDetails.place}</small></p>\r\n            <p className=\"card-text\"><small className=\"text-muted\">Дата: {new Date(eventDetails.date).toLocaleDateString()}</small></p>\r\n            <p className=\"card-text\"><small className=\"text-muted\">Всего участников: {eventDetails.maxParticipants}</small></p>\r\n          </div>\r\n          {!editMode ? (\r\n            <button onClick={handleEditClick}>Edit Event</button>\r\n          ) : (\r\n            <form onSubmit={handleFormSubmit}>\r\n              <div>\r\n                <label htmlFor=\"name\">Name:</label>\r\n                <input type=\"text\" id=\"name\" name=\"name\" value={formData.name} onChange={handleChange} />\r\n              </div>\r\n              {/* Add other input fields for description, place, date, maxParticipants */}\r\n              <button type=\"submit\">Save</button>\r\n              <button type=\"button\" onClick={handleCancelEdit}>Cancel</button>\r\n            </form>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EventDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}