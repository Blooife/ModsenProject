{"ast":null,"code":"import axios from \"axios\";\nimport authHeader from \"./auth-header\";\nimport handleRefresh from '../components/refresh';\nimport { useNavigate, Link } from \"react-router-dom\";\nimport AuthService from './auth.service';\nconst baseURL = \"http://localhost:5152\";\nconst API_URL = \"/api/v1/\";\nconst getAllEvents = () => {\n  var _s = $RefreshSig$();\n  return _s(axios.get(baseURL + API_URL + \"events\", {\n    headers: authHeader()\n  }).catch(_s(error => {\n    _s();\n    if (error.response == null) {\n      const user = AuthService.getCurrentUser();\n      const navigate = useNavigate();\n      handleRefresh(user, navigate);\n    }\n    throw error;\n  }, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n    return [useNavigate];\n  })), \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n    return [useNavigate];\n  });\n};\nconst getEventById = eventId => {\n  return axios.get(baseURL + API_URL + \"events/\" + eventId, {\n    headers: authHeader()\n  }).catch(error => {\n    throw error;\n  });\n};\nconst deleteEvent = eventId => {\n  return axios.delete(baseURL + API_URL + \"events/\" + eventId, {\n    headers: authHeader()\n  }).catch(error => {\n    throw error;\n  });\n};\nconst updateEvent = formData => {\n  console.log(formData);\n  return axios.put(baseURL + API_URL + \"events\", formData, {\n    headers: authHeader()\n  }).catch(error => {\n    throw error;\n  });\n};\nconst addEvent = formData => {\n  return axios.post(baseURL + API_URL + \"events\", formData, {\n    headers: authHeader()\n  }).catch(error => {\n    throw error;\n  });\n};\nconst getFilteredEvents = (category, place) => {\n  return axios.post(baseURL + API_URL + \"events/getFilteredEvents\", {\n    category,\n    place,\n    headers: authHeader()\n  }).catch(error => {\n    throw error;\n  });\n};\nconst uploadPicture = formDataWithImage => {\n  return axios.post(baseURL + API_URL + \"events/upload\", formDataWithImage, {\n    headers: {\n      ...authHeader()\n    }\n  }).catch(error => {\n    throw error;\n  });\n};\nconst postService = {\n  getAllEvents,\n  getEventById,\n  updateEvent,\n  addEvent,\n  deleteEvent,\n  getFilteredEvents,\n  uploadPicture\n};\nexport default postService;","map":{"version":3,"names":["axios","authHeader","handleRefresh","useNavigate","Link","AuthService","baseURL","API_URL","getAllEvents","_s","$RefreshSig$","get","headers","catch","error","response","user","getCurrentUser","navigate","getEventById","eventId","deleteEvent","delete","updateEvent","formData","console","log","put","addEvent","post","getFilteredEvents","category","place","uploadPicture","formDataWithImage","postService"],"sources":["D:/RiderProjects/Modsen/frontapp/src/services/post.service.js"],"sourcesContent":["import axios from \"axios\";\r\nimport authHeader from \"./auth-header\";\r\nimport handleRefresh from '../components/refresh';\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport AuthService from './auth.service';\r\n\r\nconst baseURL = \"http://localhost:5152\";\r\n\r\nconst API_URL = \"/api/v1/\";\r\n\r\n\r\n\r\nconst getAllEvents = () => {\r\n  return axios.get(baseURL+API_URL+\"events\", { headers: authHeader() })\r\n  .catch((error) => {    \r\n    if (error.response == null) {\r\n      const user = AuthService.getCurrentUser();\r\n      const navigate = useNavigate();\r\n      handleRefresh(user, navigate);\r\n    }\r\n    throw error; \r\n  });\r\n};\r\n\r\nconst getEventById = (eventId) => {\r\n  return axios.get(baseURL+API_URL+\"events/\"+eventId, { headers: authHeader() })\r\n  .catch((error) => {\r\n    throw error; \r\n  });\r\n};\r\n\r\nconst deleteEvent = (eventId) => {\r\n  return axios.delete(baseURL+API_URL+\"events/\"+eventId, { headers: authHeader() })\r\n  .catch((error) => {\r\n    throw error; \r\n  });\r\n};\r\n\r\nconst updateEvent = (formData) => {\r\n  console.log(formData);\r\n  return axios.put(baseURL+API_URL+\"events\", formData, { headers: authHeader() })\r\n  .catch((error) => {\r\n    throw error; \r\n  });\r\n};\r\n\r\nconst addEvent = (formData) => {\r\n  return axios.post(baseURL+API_URL+\"events\", formData, { headers: authHeader() })\r\n  .catch((error) => {\r\n    throw error; \r\n  });\r\n};\r\n\r\nconst getFilteredEvents = (category, place) => {\r\n  return axios.post(baseURL+API_URL+\"events/getFilteredEvents\", { category, place, headers: authHeader() })\r\n  .catch((error) => {\r\n    throw error; \r\n  });\r\n};\r\n\r\nconst uploadPicture = (formDataWithImage) => {\r\n  return axios.post(baseURL+API_URL+\"events/upload\", formDataWithImage, { headers: { ...authHeader()} })\r\n  .catch((error) => {\r\n    throw error; \r\n  });\r\n};\r\n\r\n\r\nconst postService = {\r\n  getAllEvents,\r\n  getEventById,\r\n  updateEvent,\r\n  addEvent,\r\n  deleteEvent,\r\n  getFilteredEvents,\r\n  uploadPicture,\r\n};\r\n\r\nexport default postService;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,UAAU,MAAM,eAAe;AACtC,OAAOC,aAAa,MAAM,uBAAuB;AACjD,SAASC,WAAW,EAAEC,IAAI,QAAQ,kBAAkB;AACpD,OAAOC,WAAW,MAAM,gBAAgB;AAExC,MAAMC,OAAO,GAAG,uBAAuB;AAEvC,MAAMC,OAAO,GAAG,UAAU;AAI1B,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAA,IAAAC,EAAA,GAAAC,YAAA;EACzB,OAAAD,EAAA,CAAOT,KAAK,CAACW,GAAG,CAACL,OAAO,GAACC,OAAO,GAAC,QAAQ,EAAE;IAAEK,OAAO,EAAEX,UAAU,CAAC;EAAE,CAAC,CAAC,CACpEY,KAAK,CAAAJ,EAAA,CAAEK,KAAK,IAAK;IAAAL,EAAA;IAChB,IAAIK,KAAK,CAACC,QAAQ,IAAI,IAAI,EAAE;MAC1B,MAAMC,IAAI,GAAGX,WAAW,CAACY,cAAc,CAAC,CAAC;MACzC,MAAMC,QAAQ,GAAGf,WAAW,CAAC,CAAC;MAC9BD,aAAa,CAACc,IAAI,EAAEE,QAAQ,CAAC;IAC/B;IACA,MAAMJ,KAAK;EACb,CAAC;IAAA,QAJoBX,WAAW;EAAA,EAI/B,CAAC;IAAA,QAJmBA,WAAW;EAAA;AAKlC,CAAC;AAED,MAAMgB,YAAY,GAAIC,OAAO,IAAK;EAChC,OAAOpB,KAAK,CAACW,GAAG,CAACL,OAAO,GAACC,OAAO,GAAC,SAAS,GAACa,OAAO,EAAE;IAAER,OAAO,EAAEX,UAAU,CAAC;EAAE,CAAC,CAAC,CAC7EY,KAAK,CAAEC,KAAK,IAAK;IAChB,MAAMA,KAAK;EACb,CAAC,CAAC;AACJ,CAAC;AAED,MAAMO,WAAW,GAAID,OAAO,IAAK;EAC/B,OAAOpB,KAAK,CAACsB,MAAM,CAAChB,OAAO,GAACC,OAAO,GAAC,SAAS,GAACa,OAAO,EAAE;IAAER,OAAO,EAAEX,UAAU,CAAC;EAAE,CAAC,CAAC,CAChFY,KAAK,CAAEC,KAAK,IAAK;IAChB,MAAMA,KAAK;EACb,CAAC,CAAC;AACJ,CAAC;AAED,MAAMS,WAAW,GAAIC,QAAQ,IAAK;EAChCC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;EACrB,OAAOxB,KAAK,CAAC2B,GAAG,CAACrB,OAAO,GAACC,OAAO,GAAC,QAAQ,EAAEiB,QAAQ,EAAE;IAAEZ,OAAO,EAAEX,UAAU,CAAC;EAAE,CAAC,CAAC,CAC9EY,KAAK,CAAEC,KAAK,IAAK;IAChB,MAAMA,KAAK;EACb,CAAC,CAAC;AACJ,CAAC;AAED,MAAMc,QAAQ,GAAIJ,QAAQ,IAAK;EAC7B,OAAOxB,KAAK,CAAC6B,IAAI,CAACvB,OAAO,GAACC,OAAO,GAAC,QAAQ,EAAEiB,QAAQ,EAAE;IAAEZ,OAAO,EAAEX,UAAU,CAAC;EAAE,CAAC,CAAC,CAC/EY,KAAK,CAAEC,KAAK,IAAK;IAChB,MAAMA,KAAK;EACb,CAAC,CAAC;AACJ,CAAC;AAED,MAAMgB,iBAAiB,GAAGA,CAACC,QAAQ,EAAEC,KAAK,KAAK;EAC7C,OAAOhC,KAAK,CAAC6B,IAAI,CAACvB,OAAO,GAACC,OAAO,GAAC,0BAA0B,EAAE;IAAEwB,QAAQ;IAAEC,KAAK;IAAEpB,OAAO,EAAEX,UAAU,CAAC;EAAE,CAAC,CAAC,CACxGY,KAAK,CAAEC,KAAK,IAAK;IAChB,MAAMA,KAAK;EACb,CAAC,CAAC;AACJ,CAAC;AAED,MAAMmB,aAAa,GAAIC,iBAAiB,IAAK;EAC3C,OAAOlC,KAAK,CAAC6B,IAAI,CAACvB,OAAO,GAACC,OAAO,GAAC,eAAe,EAAE2B,iBAAiB,EAAE;IAAEtB,OAAO,EAAE;MAAE,GAAGX,UAAU,CAAC;IAAC;EAAE,CAAC,CAAC,CACrGY,KAAK,CAAEC,KAAK,IAAK;IAChB,MAAMA,KAAK;EACb,CAAC,CAAC;AACJ,CAAC;AAGD,MAAMqB,WAAW,GAAG;EAClB3B,YAAY;EACZW,YAAY;EACZI,WAAW;EACXK,QAAQ;EACRP,WAAW;EACXS,iBAAiB;EACjBG;AACF,CAAC;AAED,eAAeE,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}