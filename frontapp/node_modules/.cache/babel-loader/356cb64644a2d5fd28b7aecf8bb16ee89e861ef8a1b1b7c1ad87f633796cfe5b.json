{"ast":null,"code":"import AuthService from \"../services/auth.service\"; // Импортируйте AuthService из вашего файла сервисов\nimport { useNavigate } from 'react-router-dom'; // Импортируйте функцию navigate для перехода по страницам\n\nconst user = AuthService.getCurrentUser();\nconst handleRefresh = async navigate => {\n  if (user != null) {\n    await AuthService.loginWithRefreshToken(user.user.refreshToken).then(() => {\n      window.location.reload();\n    }, () => {\n      console.log(\"1\");\n      /*AuthService.logout();\r\n      navigate(\"/\");\r\n      window.location.reload();*/\n    });\n  } else {\n    console.log(\"2\");\n    /*AuthService.logout();\r\n    navigate(\"/\");\r\n    window.location.reload();*/\n  }\n};\nexport default handleRefresh;","map":{"version":3,"names":["AuthService","useNavigate","user","getCurrentUser","handleRefresh","navigate","loginWithRefreshToken","refreshToken","then","window","location","reload","console","log"],"sources":["D:/RiderProjects/Modsen/frontapp/src/components/refresh.js"],"sourcesContent":["import AuthService from \"../services/auth.service\"; // Импортируйте AuthService из вашего файла сервисов\r\nimport { useNavigate } from 'react-router-dom'; // Импортируйте функцию navigate для перехода по страницам\r\n\r\nconst user = AuthService.getCurrentUser();\r\nconst handleRefresh = async (navigate) => {\r\n    \r\n  if (user != null) {\r\n    await AuthService.loginWithRefreshToken(user.user.refreshToken).then(\r\n      () => {\r\n        window.location.reload();\r\n      },\r\n      () => {\r\n        console.log(\"1\");\r\n        /*AuthService.logout();\r\n        navigate(\"/\");\r\n        window.location.reload();*/\r\n      }\r\n    );\r\n  } else {\r\n    console.log(\"2\");\r\n    /*AuthService.logout();\r\n    navigate(\"/\");\r\n    window.location.reload();*/\r\n  }\r\n};\r\n\r\nexport default handleRefresh;\r\n"],"mappings":"AAAA,OAAOA,WAAW,MAAM,0BAA0B,CAAC,CAAC;AACpD,SAASC,WAAW,QAAQ,kBAAkB,CAAC,CAAC;;AAEhD,MAAMC,IAAI,GAAGF,WAAW,CAACG,cAAc,CAAC,CAAC;AACzC,MAAMC,aAAa,GAAG,MAAOC,QAAQ,IAAK;EAExC,IAAIH,IAAI,IAAI,IAAI,EAAE;IAChB,MAAMF,WAAW,CAACM,qBAAqB,CAACJ,IAAI,CAACA,IAAI,CAACK,YAAY,CAAC,CAACC,IAAI,CAClE,MAAM;MACJC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;IAC1B,CAAC,EACD,MAAM;MACJC,OAAO,CAACC,GAAG,CAAC,GAAG,CAAC;MAChB;AACR;AACA;IACM,CACF,CAAC;EACH,CAAC,MAAM;IACLD,OAAO,CAACC,GAAG,CAAC,GAAG,CAAC;IAChB;AACJ;AACA;EACE;AACF,CAAC;AAED,eAAeT,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}